// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Voia.Api.Data;

#nullable disable

namespace Voia.Api.Migrations
{
    [DbContext(typeof(ApplicationDbContext))]
    [Migration("20251127134841_InitialCreate")]
    partial class InitialCreate
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.0")
                .HasAnnotation("Relational:MaxIdentifierLength", 64);

            modelBuilder.Entity("BotTrainingConfig", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Data")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<string>("TrainingType")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("training_type");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.ToTable("bot_training_configs");
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityRoleClaim<int>", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("ClaimType")
                        .HasColumnType("longtext");

                    b.Property<string>("ClaimValue")
                        .HasColumnType("longtext");

                    b.Property<int>("RoleId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("RoleId");

                    b.ToTable("AspNetRoleClaims", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserClaim<int>", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("ClaimType")
                        .HasColumnType("longtext");

                    b.Property<string>("ClaimValue")
                        .HasColumnType("longtext");

                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("AspNetUserClaims", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserLogin<int>", b =>
                {
                    b.Property<string>("LoginProvider")
                        .HasColumnType("varchar(255)");

                    b.Property<string>("ProviderKey")
                        .HasColumnType("varchar(255)");

                    b.Property<string>("ProviderDisplayName")
                        .HasColumnType("longtext");

                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.HasKey("LoginProvider", "ProviderKey");

                    b.HasIndex("UserId");

                    b.ToTable("AspNetUserLogins", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserRole<int>", b =>
                {
                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.Property<int>("RoleId")
                        .HasColumnType("int");

                    b.HasKey("UserId", "RoleId");

                    b.HasIndex("RoleId");

                    b.ToTable("AspNetUserRoles", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserToken<int>", b =>
                {
                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.Property<string>("LoginProvider")
                        .HasColumnType("varchar(255)");

                    b.Property<string>("Name")
                        .HasColumnType("varchar(255)");

                    b.Property<string>("Value")
                        .HasColumnType("longtext");

                    b.HasKey("UserId", "LoginProvider", "Name");

                    b.ToTable("AspNetUserTokens", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.ActivityLog", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<string>("Action")
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("action");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .HasColumnType("longtext")
                        .HasColumnName("description");

                    b.Property<int?>("EntityId")
                        .HasColumnType("int")
                        .HasColumnName("entity_id");

                    b.Property<string>("EntityType")
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("entity_type");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(45)
                        .HasColumnType("varchar(45)")
                        .HasColumnName("ip_address");

                    b.Property<string>("NewValues")
                        .HasColumnType("longtext")
                        .HasColumnName("new_values");

                    b.Property<string>("OldValues")
                        .HasColumnType("longtext")
                        .HasColumnName("old_values");

                    b.Property<string>("RequestId")
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("request_id");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("varchar(500)")
                        .HasColumnName("user_agent");

                    b.Property<int?>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.HasIndex("UserId")
                        .HasDatabaseName("ix_activity_logs_user_id");

                    b.ToTable("activity_logs");
                });

            modelBuilder.Entity("Voia.Api.Models.AiModelConfigs.AiModelConfig", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<decimal?>("FrequencyPenalty")
                        .HasColumnType("decimal(3,2)")
                        .HasColumnName("frequency_penalty");

                    b.Property<int>("IaProviderId")
                        .HasColumnType("int")
                        .HasColumnName("ia_provider_id");

                    b.Property<string>("ModelName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("model_name");

                    b.Property<decimal?>("PresencePenalty")
                        .HasColumnType("decimal(3,2)")
                        .HasColumnName("presence_penalty");

                    b.Property<decimal?>("Temperature")
                        .HasColumnType("decimal(3,2)")
                        .HasColumnName("temperature");

                    b.HasKey("Id");

                    b.HasIndex("IaProviderId");

                    b.ToTable("ai_model_configs");
                });

            modelBuilder.Entity("Voia.Api.Models.Bot", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<int?>("AiModelConfigId")
                        .HasColumnType("int")
                        .HasColumnName("ai_model_config_id");

                    b.Property<string>("ApiKey")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("varchar(255)")
                        .HasColumnName("api_key");

                    b.Property<int?>("BotTemplateId")
                        .HasColumnType("int")
                        .HasColumnName("bot_template_id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("description");

                    b.Property<int>("IaProviderId")
                        .HasColumnType("int")
                        .HasColumnName("ia_provider_id");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("tinyint(1)")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("is_deleted");

                    b.Property<bool>("IsReady")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("is_ready");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("name");

                    b.Property<int?>("StyleId")
                        .HasColumnType("int")
                        .HasColumnName("style_id");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("timestamp")
                        .HasColumnName("updated_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.HasIndex("AiModelConfigId");

                    b.HasIndex("BotTemplateId");

                    b.HasIndex("IaProviderId");

                    b.HasIndex("StyleId");

                    b.HasIndex("UserId");

                    b.ToTable("Bots");
                });

            modelBuilder.Entity("Voia.Api.Models.BotActions.BotAction", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("ActionType")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("action_type");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime")
                        .HasColumnName("created_at");

                    b.Property<string>("Payload")
                        .HasColumnType("longtext");

                    b.Property<string>("TriggerPhrase")
                        .HasColumnType("longtext")
                        .HasColumnName("trigger_phrase");

                    b.HasKey("Id");

                    b.ToTable("bot_actions");
                });

            modelBuilder.Entity("Voia.Api.Models.BotApiSettings", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<string>("AllowedOrigins")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("allowed_origins");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<string>("ClientSecret")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("varchar(255)")
                        .HasColumnName("client_secret");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<bool>("IsActive")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("is_active");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("ClientSecret")
                        .IsUnique();

                    b.HasIndex("BotId", "ClientSecret");

                    b.ToTable("bot_api_settings", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.BotCustomPrompt", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<int?>("BotTemplateId")
                        .HasColumnType("int")
                        .HasColumnName("bot_template_id");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("content");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Role")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("role");

                    b.Property<int?>("TemplateTrainingSessionId")
                        .HasColumnType("int")
                        .HasColumnName("template_training_session_id");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.HasIndex("BotTemplateId");

                    b.HasIndex("TemplateTrainingSessionId");

                    b.ToTable("bot_custom_prompts", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.BotDataCaptureField", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("FieldName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("field_name");

                    b.Property<string>("FieldType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("field_type");

                    b.Property<bool?>("IsRequired")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("is_required");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.ToTable("bot_data_capture_fields");
                });

            modelBuilder.Entity("Voia.Api.Models.BotDataSubmission", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<int>("CaptureFieldId")
                        .HasColumnType("int")
                        .HasColumnName("capture_field_id");

                    b.Property<string>("CaptureIntent")
                        .HasColumnType("longtext")
                        .HasColumnName("capture_intent");

                    b.Property<string>("CaptureSource")
                        .HasColumnType("longtext")
                        .HasColumnName("capture_source");

                    b.Property<long?>("ConversationId")
                        .HasColumnType("bigint")
                        .HasColumnName("conversation_id");

                    b.Property<string>("MetadataJson")
                        .HasColumnType("longtext")
                        .HasColumnName("metadata_json");

                    b.Property<string>("SubmissionSessionId")
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("submission_session_id");

                    b.Property<string>("SubmissionValue")
                        .HasColumnType("longtext")
                        .HasColumnName("submission_value");

                    b.Property<DateTime?>("SubmittedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("submitted_at");

                    b.Property<int?>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.HasIndex("CaptureFieldId");

                    b.ToTable("bot_data_submissions");
                });

            modelBuilder.Entity("Voia.Api.Models.BotIaProvider", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("ApiEndpoint")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("varchar(255)")
                        .HasColumnName("api_endpoint");

                    b.Property<string>("ApiKey")
                        .HasMaxLength(255)
                        .HasColumnType("varchar(255)")
                        .HasColumnName("api_key");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("name");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.ToTable("bot_ia_providers");
                });

            modelBuilder.Entity("Voia.Api.Models.BotInstallationSetting", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("InstallationInstructions")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("installation_instructions");

                    b.Property<string>("InstallationMethod")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("varchar(10)")
                        .HasColumnName("installation_method");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.ToTable("bot_installation_settings");
                });

            modelBuilder.Entity("Voia.Api.Models.BotIntegrations.BotIntegration", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("ApiTokenHash")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("api_token_hash");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime")
                        .HasColumnName("created_at");

                    b.Property<string>("Framework")
                        .HasColumnType("longtext")
                        .HasColumnName("framework");

                    b.Property<string>("IntegrationType")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("integration_type");

                    b.Property<string>("SettingsJson")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("settings_json");

                    b.HasKey("Id");

                    b.ToTable("bot_integrations");
                });

            modelBuilder.Entity("Voia.Api.Models.BotProfiles.BotProfile", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("AvatarUrl")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("avatar_url");

                    b.Property<string>("Bio")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("bio");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Language")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("language");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("name");

                    b.Property<string>("PersonalityTraits")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("personality_traits");

                    b.Property<string>("Restrictions")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("restrictions");

                    b.Property<string>("Tone")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("tone");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.ToTable("bot_profiles");
                });

            modelBuilder.Entity("Voia.Api.Models.BotStyle", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<bool>("AllowFileUpload")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("allow_file_upload");

                    b.Property<bool>("AllowImageUpload")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("allow_image_upload");

                    b.Property<string>("AvatarUrl")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("avatar_url");

                    b.Property<string>("CustomCss")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("custom_css");

                    b.Property<string>("FontFamily")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("font_family");

                    b.Property<string>("HeaderBackgroundColor")
                        .HasColumnType("longtext")
                        .HasColumnName("header_background_color");

                    b.Property<string>("Name")
                        .HasColumnType("longtext");

                    b.Property<string>("Position")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("position");

                    b.Property<string>("PrimaryColor")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("varchar(20)")
                        .HasColumnName("primary_color");

                    b.Property<string>("SecondaryColor")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("varchar(20)")
                        .HasColumnName("secondary_color");

                    b.Property<int?>("StyleTemplateId")
                        .HasColumnType("int")
                        .HasColumnName("style_template_id");

                    b.Property<string>("Theme")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("theme");

                    b.Property<string>("Title")
                        .HasColumnType("longtext");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("timestamp")
                        .HasColumnName("updated_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<int?>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.ToTable("bot_styles", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.BotTemplate", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("AiModelConfigId")
                        .HasColumnType("int")
                        .HasColumnName("ai_model_config_id");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<int?>("DefaultStyleId")
                        .HasColumnType("int")
                        .HasColumnName("default_style_id");

                    b.Property<string>("Description")
                        .HasColumnType("longtext");

                    b.Property<int>("IaProviderId")
                        .HasColumnType("int")
                        .HasColumnName("ia_provider_id");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("AiModelConfigId");

                    b.HasIndex("DefaultStyleId");

                    b.HasIndex("IaProviderId");

                    b.ToTable("bot_templates");
                });

            modelBuilder.Entity("Voia.Api.Models.BotTemplatePrompt", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("BotTemplateId")
                        .HasColumnType("int")
                        .HasColumnName("bot_template_id");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Role")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("BotTemplateId");

                    b.ToTable("bot_template_prompts");
                });

            modelBuilder.Entity("Voia.Api.Models.BotTrainingSession.BotTrainingSession", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("description");

                    b.Property<string>("SessionName")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("session_name");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.ToTable("bot_training_sessions");
                });

            modelBuilder.Entity("Voia.Api.Models.Bots.BotPhase", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("completed_at");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Meta")
                        .HasColumnType("json")
                        .HasColumnName("meta");

                    b.Property<string>("Phase")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("phase");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.ToTable("bot_phases", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.Bots.BotWelcomeMessage", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int?>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<string>("City")
                        .HasColumnType("longtext")
                        .HasColumnName("city");

                    b.Property<string>("Country")
                        .HasColumnType("longtext")
                        .HasColumnName("country");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Language")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("language");

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("message");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.ToTable("bot_welcome_messages");
                });

            modelBuilder.Entity("Voia.Api.Models.Chat.ChatUploadedFile", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("ConversationId")
                        .HasColumnType("int")
                        .HasColumnName("conversation_id");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("deleted_at");

                    b.Property<string>("FileName")
                        .HasMaxLength(255)
                        .HasColumnType("varchar(255)")
                        .HasColumnName("file_name");

                    b.Property<string>("FilePath")
                        .HasColumnType("longtext")
                        .HasColumnName("file_path");

                    b.Property<string>("FileType")
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("file_type");

                    b.Property<int?>("PublicUserId")
                        .HasColumnType("int")
                        .HasColumnName("public_user_id");

                    b.Property<DateTime?>("UploadedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("uploaded_at");

                    b.Property<int?>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.HasIndex("ConversationId");

                    b.HasIndex("PublicUserId");

                    b.HasIndex("UserId");

                    b.ToTable("chat_uploaded_files");
                });

            modelBuilder.Entity("Voia.Api.Models.ConversationTag.ConversationTag", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<int>("ConversationId")
                        .HasColumnType("int")
                        .HasColumnName("conversation_id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<int?>("HighlightedMessageId")
                        .HasColumnType("int")
                        .HasColumnName("highlighted_message_id");

                    b.Property<string>("Label")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("label");

                    b.HasKey("Id");

                    b.HasIndex("ConversationId");

                    b.HasIndex("HighlightedMessageId");

                    b.ToTable("conversation_tags");
                });

            modelBuilder.Entity("Voia.Api.Models.Conversations.Conversation", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<bool>("ActiveMobileSession")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("active_mobile_session");

                    b.Property<bool>("Blocked")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("blocked");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<string>("BotResponse")
                        .HasColumnType("longtext")
                        .HasColumnName("bot_response");

                    b.Property<DateTime?>("ClosedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("closed_at");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("expires_at");

                    b.Property<bool>("IsWithAI")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("is_with_ai");

                    b.Property<DateTime?>("LastActiveAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("last_active_at");

                    b.Property<string>("LastMessage")
                        .HasColumnType("longtext")
                        .HasColumnName("last_message");

                    b.Property<string>("MobileDeviceType")
                        .HasColumnType("longtext")
                        .HasColumnName("mobile_device_type");

                    b.Property<DateTime?>("MobileJoinedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("mobile_joined_at");

                    b.Property<int?>("PublicUserId")
                        .HasColumnType("int")
                        .HasColumnName("public_user_id");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("varchar(255)")
                        .HasColumnName("status");

                    b.Property<string>("Title")
                        .HasColumnType("longtext");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.Property<string>("UserMessage")
                        .HasColumnType("longtext")
                        .HasColumnName("user_message");

                    b.HasKey("Id");

                    b.HasIndex("BotId")
                        .HasDatabaseName("ix_conversations_bot_id");

                    b.HasIndex("PublicUserId");

                    b.HasIndex("UserId")
                        .HasDatabaseName("ix_conversations_user_id");

                    b.HasIndex("Status", "UpdatedAt")
                        .HasDatabaseName("ix_conversations_status_updated_at");

                    b.ToTable("Conversations");
                });

            modelBuilder.Entity("Voia.Api.Models.DocumentType", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("Abbreviation")
                        .HasColumnType("longtext");

                    b.Property<string>("Description")
                        .HasColumnType("longtext");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.HasKey("Id");

                    b.ToTable("document_types");
                });

            modelBuilder.Entity("Voia.Api.Models.GeneratedImages.GeneratedImage", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<int?>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("ImageUrl")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("image_url");

                    b.Property<string>("Prompt")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("prompt");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.ToTable("generated_images");
                });

            modelBuilder.Entity("Voia.Api.Models.KnowledgeChunk", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<byte[]>("EmbeddingVector")
                        .IsRequired()
                        .HasColumnType("longblob")
                        .HasColumnName("embedding_vector");

                    b.Property<string>("Metadata")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<int?>("TemplateTrainingSessionId")
                        .HasColumnType("int")
                        .HasColumnName("template_training_session_id");

                    b.Property<int>("UploadedDocumentId")
                        .HasColumnType("int")
                        .HasColumnName("uploaded_document_id");

                    b.HasKey("Id");

                    b.HasIndex("TemplateTrainingSessionId");

                    b.HasIndex("UploadedDocumentId");

                    b.ToTable("knowledge_chunks");
                });

            modelBuilder.Entity("Voia.Api.Models.Messages.Message", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int?>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<int>("ConversationId")
                        .HasColumnType("int")
                        .HasColumnName("conversation_id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<int?>("FileId")
                        .HasColumnType("int")
                        .HasColumnName("file_id");

                    b.Property<string>("MessageText")
                        .HasColumnType("longtext")
                        .HasColumnName("message_text");

                    b.Property<int?>("PublicUserId")
                        .HasColumnType("int")
                        .HasColumnName("public_user_id");

                    b.Property<bool>("Read")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("read");

                    b.Property<int?>("ReplyToMessageId")
                        .HasColumnType("int")
                        .HasColumnName("reply_to_message_id");

                    b.Property<string>("Sender")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("sender");

                    b.Property<string>("Source")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("source");

                    b.Property<string>("Status")
                        .HasMaxLength(20)
                        .HasColumnType("varchar(20)")
                        .HasColumnName("status");

                    b.Property<string>("TempId")
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("temp_id");

                    b.Property<int?>("TokensUsed")
                        .HasColumnType("int")
                        .HasColumnName("tokens_used");

                    b.Property<int?>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.HasIndex("ConversationId")
                        .HasDatabaseName("ix_messages_conversation_id");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("ix_messages_created_at_desc");

                    b.HasIndex("FileId");

                    b.HasIndex("PublicUserId");

                    b.HasIndex("ReplyToMessageId");

                    b.HasIndex("UserId");

                    b.ToTable("Messages");
                });

            modelBuilder.Entity("Voia.Api.Models.Permission", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.HasKey("Id");

                    b.ToTable("permissions", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.Plans.Plan", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("AiProviders")
                        .HasColumnType("json")
                        .HasColumnName("ai_providers");

                    b.Property<bool>("AnalyticsDashboard")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("analytics_dashboard");

                    b.Property<int?>("BotsLimit")
                        .HasColumnType("int")
                        .HasColumnName("bots_limit");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<bool>("CustomStyles")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("custom_styles");

                    b.Property<int?>("DataCaptureLimit")
                        .HasColumnType("int")
                        .HasColumnName("data_capture_limit");

                    b.Property<string>("Description")
                        .HasColumnType("longtext");

                    b.Property<int?>("FileUploadLimit")
                        .HasColumnType("int")
                        .HasColumnName("file_upload_limit");

                    b.Property<bool>("IntegrationApi")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("integration_api");

                    b.Property<bool>("IsActive")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("is_active");

                    b.Property<int>("MaxTokens")
                        .HasColumnType("int")
                        .HasColumnName("max_tokens");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)");

                    b.Property<decimal>("Price")
                        .HasColumnType("decimal(10,2)");

                    b.Property<bool>("PrioritySupport")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("priority_support");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.ToTable("Plans");
                });

            modelBuilder.Entity("Voia.Api.Models.RefreshToken", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)");

                    b.Property<DateTime>("ExpiryDate")
                        .HasColumnType("datetime(6)");

                    b.Property<string>("IpAddress")
                        .HasColumnType("longtext");

                    b.Property<bool>("IsRevoked")
                        .HasColumnType("tinyint(1)");

                    b.Property<DateTime?>("LastUsedAt")
                        .HasColumnType("datetime(6)");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<string>("TokenJti")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<string>("UserAgent")
                        .HasColumnType("longtext");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.HasKey("Id");

                    b.ToTable("RefreshTokens");
                });

            modelBuilder.Entity("Voia.Api.Models.Role", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("ConcurrencyStamp")
                        .IsConcurrencyToken()
                        .HasColumnType("longtext");

                    b.Property<string>("Description")
                        .HasColumnType("longtext");

                    b.Property<string>("Name")
                        .HasMaxLength(256)
                        .HasColumnType("varchar(256)");

                    b.Property<string>("NormalizedName")
                        .HasMaxLength(256)
                        .HasColumnType("varchar(256)");

                    b.HasKey("Id");

                    b.HasIndex("NormalizedName")
                        .IsUnique()
                        .HasDatabaseName("RoleNameIndex");

                    b.ToTable("AspNetRoles", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.RolePermission", b =>
                {
                    b.Property<int>("RoleId")
                        .HasColumnType("int")
                        .HasColumnName("RoleId");

                    b.Property<int>("PermissionId")
                        .HasColumnType("int")
                        .HasColumnName("PermissionId");

                    b.HasKey("RoleId", "PermissionId");

                    b.HasIndex("PermissionId");

                    b.ToTable("rolepermissions", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.StyleTemplate.StyleTemplate", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<string>("AvatarUrl")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("avatar_url");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("CustomCss")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("custom_css");

                    b.Property<string>("FontFamily")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("font_family");

                    b.Property<string>("HeaderBackgroundColor")
                        .HasColumnType("longtext")
                        .HasColumnName("header_background_color");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("varchar(100)")
                        .HasColumnName("name");

                    b.Property<string>("Position")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("position");

                    b.Property<string>("PrimaryColor")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("primary_color");

                    b.Property<string>("SecondaryColor")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("secondary_color");

                    b.Property<string>("Theme")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("theme");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.Property<int?>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.ToTable("style_templates");
                });

            modelBuilder.Entity("Voia.Api.Models.Subscriptions.Subscription", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("expires_at");

                    b.Property<int>("PlanId")
                        .HasColumnType("int")
                        .HasColumnName("plan_id");

                    b.Property<DateTime?>("StartedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("started_at");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("varchar(10)");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.HasIndex("PlanId");

                    b.HasIndex("UserId");

                    b.ToTable("Subscriptions");
                });

            modelBuilder.Entity("Voia.Api.Models.SupportTicket.SupportResponse", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime")
                        .HasColumnName("created_at");

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<int?>("ResponderId")
                        .HasColumnType("int")
                        .HasColumnName("responder_id");

                    b.Property<int>("TicketId")
                        .HasColumnType("int")
                        .HasColumnName("ticket_id");

                    b.HasKey("Id");

                    b.ToTable("support_responses");
                });

            modelBuilder.Entity("Voia.Api.Models.SupportTicket.SupportTicket", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime")
                        .HasColumnName("created_at");

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("message");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("enum('open','in_progress','closed')")
                        .HasColumnName("status");

                    b.Property<string>("Subject")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("varchar(255)")
                        .HasColumnName("subject");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime")
                        .HasColumnName("updated_at");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.ToTable("support_tickets");
                });

            modelBuilder.Entity("Voia.Api.Models.TemplateTrainingSession", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<int>("BotTemplateId")
                        .HasColumnType("int")
                        .HasColumnName("bot_template_id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("description");

                    b.Property<string>("SessionName")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("session_name");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("BotTemplateId");

                    b.ToTable("template_training_sessions", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.TokenUsageLog", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<int>("TokensUsed")
                        .HasColumnType("int")
                        .HasColumnName("tokens_used");

                    b.Property<DateTime?>("UsageDate")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("usage_date");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.ToTable("token_usage_logs");
                });

            modelBuilder.Entity("Voia.Api.Models.TrainingCustomText", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<int>("BotTemplateId")
                        .HasColumnType("int")
                        .HasColumnName("bot_template_id");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("content");

                    b.Property<string>("ContentHash")
                        .HasColumnType("varchar(255)")
                        .HasColumnName("content_hash");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<int>("Indexed")
                        .HasColumnType("int")
                        .HasColumnName("indexed");

                    b.Property<string>("QdrantId")
                        .HasColumnType("varchar(255)")
                        .HasColumnName("qdrant_id");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("varchar(50)")
                        .HasColumnName("status");

                    b.Property<int?>("TemplateTrainingSessionId")
                        .HasColumnType("int")
                        .HasColumnName("template_training_session_id");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.ToTable("training_custom_texts");
                });

            modelBuilder.Entity("Voia.Api.Models.TrainingDataSessions.TrainingDataSession", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<int?>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("DataSummary")
                        .HasColumnType("longtext")
                        .HasColumnName("data_summary");

                    b.Property<string>("DataType")
                        .HasColumnType("longtext")
                        .HasColumnName("data_type");

                    b.Property<string>("Status")
                        .HasColumnType("longtext")
                        .HasColumnName("status");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.ToTable("training_data_sessions");
                });

            modelBuilder.Entity("Voia.Api.Models.TrainingUrl", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int?>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<int>("BotTemplateId")
                        .HasColumnType("int")
                        .HasColumnName("bot_template_id");

                    b.Property<string>("ContentHash")
                        .HasColumnType("varchar(128)")
                        .HasColumnName("content_hash");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("ExtractedText")
                        .HasColumnType("longtext")
                        .HasColumnName("extracted_text");

                    b.Property<int>("Indexed")
                        .HasColumnType("int")
                        .HasColumnName("indexed");

                    b.Property<string>("QdrantId")
                        .HasColumnType("varchar(128)")
                        .HasColumnName("qdrant_id");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("status");

                    b.Property<int?>("TemplateTrainingSessionId")
                        .HasColumnType("int")
                        .HasColumnName("template_training_session_id");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("datetime(6)")
                        .HasColumnName("updated_at");

                    b.Property<string>("Url")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("url");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.ToTable("training_urls");
                });

            modelBuilder.Entity("Voia.Api.Models.UploadedDocument", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<int>("BotTemplateId")
                        .HasColumnType("int")
                        .HasColumnName("bot_template_id");

                    b.Property<string>("ContentHash")
                        .HasColumnType("longtext")
                        .HasColumnName("content_hash");

                    b.Property<string>("ExtractedText")
                        .HasColumnType("longtext")
                        .HasColumnName("extracted_text");

                    b.Property<string>("FileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("varchar(255)")
                        .HasColumnName("file_name");

                    b.Property<string>("FilePath")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("file_path");

                    b.Property<string>("FileType")
                        .HasMaxLength(20)
                        .HasColumnType("varchar(20)")
                        .HasColumnName("file_type");

                    b.Property<bool?>("Indexed")
                        .HasColumnType("tinyint(1)")
                        .HasColumnName("indexed");

                    b.Property<string>("QdrantId")
                        .HasColumnType("longtext")
                        .HasColumnName("qdrant_id");

                    b.Property<int?>("TemplateTrainingSessionId")
                        .HasColumnType("int")
                        .HasColumnName("template_training_session_id");

                    b.Property<DateTime>("UploadedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("uploaded_at");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.HasIndex("BotTemplateId");

                    b.HasIndex("TemplateTrainingSessionId");

                    b.ToTable("uploaded_documents");
                });

            modelBuilder.Entity("Voia.Api.Models.User", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("AccessFailedCount")
                        .HasColumnType("int");

                    b.Property<string>("Address")
                        .HasColumnType("longtext");

                    b.Property<string>("AvatarUrl")
                        .HasColumnType("longtext");

                    b.Property<string>("City")
                        .HasColumnType("longtext");

                    b.Property<string>("ConcurrencyStamp")
                        .IsConcurrencyToken()
                        .HasColumnType("longtext");

                    b.Property<string>("Country")
                        .HasColumnType("longtext");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)");

                    b.Property<string>("DocumentNumber")
                        .HasColumnType("longtext");

                    b.Property<string>("DocumentPhotoUrl")
                        .HasColumnType("longtext")
                        .HasColumnName("document_photo_url");

                    b.Property<int?>("DocumentTypeId")
                        .HasColumnType("int");

                    b.Property<string>("Email")
                        .HasMaxLength(256)
                        .HasColumnType("varchar(256)");

                    b.Property<bool>("EmailConfirmed")
                        .HasColumnType("tinyint(1)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("tinyint(1)");

                    b.Property<bool>("IsVerified")
                        .HasColumnType("tinyint(1)");

                    b.Property<bool>("LockoutEnabled")
                        .HasColumnType("tinyint(1)");

                    b.Property<DateTimeOffset?>("LockoutEnd")
                        .HasColumnType("datetime(6)");

                    b.Property<string>("Name")
                        .HasColumnType("longtext");

                    b.Property<string>("NormalizedEmail")
                        .HasMaxLength(256)
                        .HasColumnType("varchar(256)");

                    b.Property<string>("NormalizedUserName")
                        .HasMaxLength(256)
                        .HasColumnType("varchar(256)");

                    b.Property<string>("PasswordHash")
                        .HasColumnType("longtext");

                    b.Property<string>("Phone")
                        .HasColumnType("longtext");

                    b.Property<string>("PhoneNumber")
                        .HasColumnType("longtext");

                    b.Property<bool>("PhoneNumberConfirmed")
                        .HasColumnType("tinyint(1)");

                    b.Property<string>("PublicDataToken")
                        .HasColumnType("longtext");

                    b.Property<int?>("RoleId")
                        .HasColumnType("int")
                        .HasColumnName("role_id");

                    b.Property<string>("SecurityStamp")
                        .HasColumnType("longtext");

                    b.Property<string>("Status")
                        .HasColumnType("longtext");

                    b.Property<bool>("TwoFactorEnabled")
                        .HasColumnType("tinyint(1)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("datetime(6)");

                    b.Property<string>("UserName")
                        .HasMaxLength(256)
                        .HasColumnType("varchar(256)");

                    b.HasKey("Id");

                    b.HasIndex("DocumentTypeId");

                    b.HasIndex("NormalizedEmail")
                        .HasDatabaseName("EmailIndex");

                    b.HasIndex("NormalizedUserName")
                        .IsUnique()
                        .HasDatabaseName("UserNameIndex");

                    b.HasIndex("RoleId");

                    b.ToTable("AspNetUsers", (string)null);
                });

            modelBuilder.Entity("Voia.Api.Models.UserBotRelations.UserBotRelation", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<DateTime?>("CreatedAt")
                        .HasColumnType("datetime")
                        .HasColumnName("created_at");

                    b.Property<int?>("InteractionScore")
                        .HasColumnType("int")
                        .HasColumnName("interaction_score");

                    b.Property<DateTime?>("LastInteraction")
                        .HasColumnType("datetime")
                        .HasColumnName("last_interaction");

                    b.Property<string>("RelationshipType")
                        .IsRequired()
                        .HasColumnType("longtext")
                        .HasColumnName("relationship_type");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.ToTable("user_bot_relations");
                });

            modelBuilder.Entity("Voia.Api.Models.UserConsent", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<string>("ConsentType")
                        .IsRequired()
                        .HasColumnType("longtext");

                    b.Property<bool>("Granted")
                        .HasColumnType("tinyint(1)");

                    b.Property<DateTime?>("GrantedAt")
                        .HasColumnType("datetime(6)");

                    b.Property<int>("UserId")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("UserConsents");
                });

            modelBuilder.Entity("Voia.Api.Models.UserPreferences.UserPreference", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id");

                    b.Property<int>("InterestId")
                        .HasColumnType("int")
                        .HasColumnName("interest_id");

                    b.Property<int>("UserId")
                        .HasColumnType("int")
                        .HasColumnName("user_id");

                    b.HasKey("Id");

                    b.ToTable("user_preferences");
                });

            modelBuilder.Entity("Voia.Api.Models.Users.PublicUser", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<int?>("BotId")
                        .HasColumnType("int")
                        .HasColumnName("bot_id");

                    b.Property<string>("BrowserFingerprint")
                        .HasMaxLength(256)
                        .HasColumnType("varchar(256)")
                        .HasColumnName("browser_fingerprint");

                    b.Property<string>("City")
                        .HasColumnType("longtext")
                        .HasColumnName("city");

                    b.Property<string>("Country")
                        .HasColumnType("longtext")
                        .HasColumnName("country");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<string>("IpAddress")
                        .HasColumnType("longtext")
                        .HasColumnName("ip_address");

                    b.Property<string>("UserAgent")
                        .HasColumnType("longtext")
                        .HasColumnName("user_agent");

                    b.HasKey("Id");

                    b.HasIndex("BotId");

                    b.ToTable("public_users");
                });

            modelBuilder.Entity("Voia.Api.Models.VectorEmbedding", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("created_at");

                    b.Property<byte[]>("EmbeddingVector")
                        .IsRequired()
                        .HasColumnType("longblob")
                        .HasColumnName("embedding_vector");

                    b.Property<int>("KnowledgeChunkId")
                        .HasColumnType("int")
                        .HasColumnName("knowledge_chunk_id");

                    b.Property<string>("Provider")
                        .HasMaxLength(50)
                        .HasColumnType("varchar(50)")
                        .HasColumnName("provider");

                    b.HasKey("Id");

                    b.ToTable("vector_embeddings");
                });

            modelBuilder.Entity("BotTrainingConfig", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Bot");
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityRoleClaim<int>", b =>
                {
                    b.HasOne("Voia.Api.Models.Role", null)
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserClaim<int>", b =>
                {
                    b.HasOne("Voia.Api.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserLogin<int>", b =>
                {
                    b.HasOne("Voia.Api.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserRole<int>", b =>
                {
                    b.HasOne("Voia.Api.Models.Role", null)
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserToken<int>", b =>
                {
                    b.HasOne("Voia.Api.Models.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Voia.Api.Models.ActivityLog", b =>
                {
                    b.HasOne("Voia.Api.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Voia.Api.Models.AiModelConfigs.AiModelConfig", b =>
                {
                    b.HasOne("Voia.Api.Models.BotIaProvider", "IaProvider")
                        .WithMany()
                        .HasForeignKey("IaProviderId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("IaProvider");
                });

            modelBuilder.Entity("Voia.Api.Models.Bot", b =>
                {
                    b.HasOne("Voia.Api.Models.AiModelConfigs.AiModelConfig", "AiModelConfig")
                        .WithMany()
                        .HasForeignKey("AiModelConfigId");

                    b.HasOne("Voia.Api.Models.BotTemplate", "BotTemplate")
                        .WithMany()
                        .HasForeignKey("BotTemplateId");

                    b.HasOne("Voia.Api.Models.BotIaProvider", "IaProvider")
                        .WithMany()
                        .HasForeignKey("IaProviderId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.BotStyle", "Style")
                        .WithMany()
                        .HasForeignKey("StyleId");

                    b.HasOne("Voia.Api.Models.User", "User")
                        .WithMany("Bots")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("AiModelConfig");

                    b.Navigation("BotTemplate");

                    b.Navigation("IaProvider");

                    b.Navigation("Style");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Voia.Api.Models.BotApiSettings", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Bot");
                });

            modelBuilder.Entity("Voia.Api.Models.BotCustomPrompt", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.BotTemplate", "BotTemplate")
                        .WithMany("CustomPrompts")
                        .HasForeignKey("BotTemplateId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Voia.Api.Models.TemplateTrainingSession", "TemplateTrainingSession")
                        .WithMany("BotCustomPrompts")
                        .HasForeignKey("TemplateTrainingSessionId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.Navigation("Bot");

                    b.Navigation("BotTemplate");

                    b.Navigation("TemplateTrainingSession");
                });

            modelBuilder.Entity("Voia.Api.Models.BotDataSubmission", b =>
                {
                    b.HasOne("Voia.Api.Models.BotDataCaptureField", "CaptureField")
                        .WithMany()
                        .HasForeignKey("CaptureFieldId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("CaptureField");
                });

            modelBuilder.Entity("Voia.Api.Models.BotProfiles.BotProfile", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Bot");
                });

            modelBuilder.Entity("Voia.Api.Models.BotTemplate", b =>
                {
                    b.HasOne("Voia.Api.Models.AiModelConfigs.AiModelConfig", "AiModelConfig")
                        .WithMany()
                        .HasForeignKey("AiModelConfigId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.BotStyle", "DefaultStyle")
                        .WithMany()
                        .HasForeignKey("DefaultStyleId");

                    b.HasOne("Voia.Api.Models.BotIaProvider", "IaProvider")
                        .WithMany()
                        .HasForeignKey("IaProviderId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("AiModelConfig");

                    b.Navigation("DefaultStyle");

                    b.Navigation("IaProvider");
                });

            modelBuilder.Entity("Voia.Api.Models.BotTemplatePrompt", b =>
                {
                    b.HasOne("Voia.Api.Models.BotTemplate", "BotTemplate")
                        .WithMany("Prompts")
                        .HasForeignKey("BotTemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("BotTemplate");
                });

            modelBuilder.Entity("Voia.Api.Models.BotTrainingSession.BotTrainingSession", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany("TrainingSessions")
                        .HasForeignKey("BotId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Bot");
                });

            modelBuilder.Entity("Voia.Api.Models.Bots.BotWelcomeMessage", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId");

                    b.Navigation("Bot");
                });

            modelBuilder.Entity("Voia.Api.Models.Chat.ChatUploadedFile", b =>
                {
                    b.HasOne("Voia.Api.Models.Conversations.Conversation", "Conversation")
                        .WithMany()
                        .HasForeignKey("ConversationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.Users.PublicUser", "PublicUser")
                        .WithMany()
                        .HasForeignKey("PublicUserId");

                    b.HasOne("Voia.Api.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("Conversation");

                    b.Navigation("PublicUser");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Voia.Api.Models.ConversationTag.ConversationTag", b =>
                {
                    b.HasOne("Voia.Api.Models.Conversations.Conversation", "Conversation")
                        .WithMany()
                        .HasForeignKey("ConversationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.Messages.Message", "HighlightedMessage")
                        .WithMany()
                        .HasForeignKey("HighlightedMessageId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Conversation");

                    b.Navigation("HighlightedMessage");
                });

            modelBuilder.Entity("Voia.Api.Models.Conversations.Conversation", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.Users.PublicUser", "PublicUser")
                        .WithMany("Conversations")
                        .HasForeignKey("PublicUserId");

                    b.HasOne("Voia.Api.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Bot");

                    b.Navigation("PublicUser");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Voia.Api.Models.KnowledgeChunk", b =>
                {
                    b.HasOne("Voia.Api.Models.TemplateTrainingSession", "TemplateTrainingSession")
                        .WithMany()
                        .HasForeignKey("TemplateTrainingSessionId");

                    b.HasOne("Voia.Api.Models.UploadedDocument", "UploadedDocument")
                        .WithMany()
                        .HasForeignKey("UploadedDocumentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("TemplateTrainingSession");

                    b.Navigation("UploadedDocument");
                });

            modelBuilder.Entity("Voia.Api.Models.Messages.Message", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId");

                    b.HasOne("Voia.Api.Models.Conversations.Conversation", "Conversation")
                        .WithMany()
                        .HasForeignKey("ConversationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.Chat.ChatUploadedFile", "ChatUploadedFile")
                        .WithMany()
                        .HasForeignKey("FileId");

                    b.HasOne("Voia.Api.Models.Users.PublicUser", "PublicUser")
                        .WithMany("Messages")
                        .HasForeignKey("PublicUserId");

                    b.HasOne("Voia.Api.Models.Messages.Message", "ReplyToMessage")
                        .WithMany()
                        .HasForeignKey("ReplyToMessageId");

                    b.HasOne("Voia.Api.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId");

                    b.Navigation("Bot");

                    b.Navigation("ChatUploadedFile");

                    b.Navigation("Conversation");

                    b.Navigation("PublicUser");

                    b.Navigation("ReplyToMessage");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Voia.Api.Models.RolePermission", b =>
                {
                    b.HasOne("Voia.Api.Models.Permission", "Permission")
                        .WithMany("RolePermissions")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.Role", "Role")
                        .WithMany("RolePermissions")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Permission");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("Voia.Api.Models.Subscriptions.Subscription", b =>
                {
                    b.HasOne("Voia.Api.Models.Plans.Plan", "Plan")
                        .WithMany()
                        .HasForeignKey("PlanId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.User", "User")
                        .WithMany("Subscriptions")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Plan");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Voia.Api.Models.TemplateTrainingSession", b =>
                {
                    b.HasOne("Voia.Api.Models.BotTemplate", "BotTemplate")
                        .WithMany()
                        .HasForeignKey("BotTemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("BotTemplate");
                });

            modelBuilder.Entity("Voia.Api.Models.TrainingCustomText", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Bot");
                });

            modelBuilder.Entity("Voia.Api.Models.TrainingUrl", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId");

                    b.Navigation("Bot");
                });

            modelBuilder.Entity("Voia.Api.Models.UploadedDocument", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.BotTemplate", "BotTemplate")
                        .WithMany()
                        .HasForeignKey("BotTemplateId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Voia.Api.Models.TemplateTrainingSession", "TemplateTrainingSession")
                        .WithMany()
                        .HasForeignKey("TemplateTrainingSessionId");

                    b.Navigation("Bot");

                    b.Navigation("BotTemplate");

                    b.Navigation("TemplateTrainingSession");
                });

            modelBuilder.Entity("Voia.Api.Models.User", b =>
                {
                    b.HasOne("Voia.Api.Models.DocumentType", "DocumentType")
                        .WithMany()
                        .HasForeignKey("DocumentTypeId");

                    b.HasOne("Voia.Api.Models.Role", "Role")
                        .WithMany("Users")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("DocumentType");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("Voia.Api.Models.UserConsent", b =>
                {
                    b.HasOne("Voia.Api.Models.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("Voia.Api.Models.Users.PublicUser", b =>
                {
                    b.HasOne("Voia.Api.Models.Bot", "Bot")
                        .WithMany()
                        .HasForeignKey("BotId");

                    b.Navigation("Bot");
                });

            modelBuilder.Entity("Voia.Api.Models.Bot", b =>
                {
                    b.Navigation("TrainingSessions");
                });

            modelBuilder.Entity("Voia.Api.Models.BotTemplate", b =>
                {
                    b.Navigation("CustomPrompts");

                    b.Navigation("Prompts");
                });

            modelBuilder.Entity("Voia.Api.Models.Permission", b =>
                {
                    b.Navigation("RolePermissions");
                });

            modelBuilder.Entity("Voia.Api.Models.Role", b =>
                {
                    b.Navigation("RolePermissions");

                    b.Navigation("Users");
                });

            modelBuilder.Entity("Voia.Api.Models.TemplateTrainingSession", b =>
                {
                    b.Navigation("BotCustomPrompts");
                });

            modelBuilder.Entity("Voia.Api.Models.User", b =>
                {
                    b.Navigation("Bots");

                    b.Navigation("Subscriptions");
                });

            modelBuilder.Entity("Voia.Api.Models.Users.PublicUser", b =>
                {
                    b.Navigation("Conversations");

                    b.Navigation("Messages");
                });
#pragma warning restore 612, 618
        }
    }
}
